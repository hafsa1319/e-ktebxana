$("body").attr("Page","StudentDashboard")

         
            
      $('<article class="PageArea">\
      <div class="Container">\
      <div class="row">\
         <div class="col-12">\
         <div class="DashboxArea">\
            <div class="Dashbox DarkGreen" T="Read">\
                  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 512 512"><g><path d="m443.6,11h-321c-35.4,0-64.6,26.1-64.6,59.4v371.1c0,33.4 26.1,59.4 59.4,59.4h326.2c6.3,0 10.4-4.2 10.4-11.5v-468c0-6.2-4.2-10.4-10.4-10.4zm-321,20.9h310.5v350.3h-315.7c-14.9,0-28.3,5.2-38.6,13.9v-325.7c-1.42109e-14-21.9 19.8-38.5 43.8-38.5zm310.6,449.3h-315.8c-21.9,0-38.6-16.7-38.6-38.6 0-21.9 17.7-38.6 38.6-38.6l315.8,.1v77.1z"/></g></svg>\
                  <div class="Info"> '+defaultLang(2070)+' </div>\
                  <div class="Text"><span>0</span> '+defaultLang(2072)+'</div>\
            </div>\
            <div class="Dashbox Yellow" T="Paper">\
                  <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon"><path d="M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 0 0-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z"/></svg>\
                  <div class="Info"> '+defaultLang(2073)+' </div>\
                  <div class="Text"><span>0</span> '+defaultLang(2074)+'</div>\
            </div>\
            <div class="Dashbox Blue" T="Listen">\
                  <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 467.2 467.2" style="enable-background:new 0 0 467.2 467.2;" xml:space="preserve"><g><path d="M467.2,235.7c0-62.4-24.3-121.1-68.4-165.2S296,2.1,233.6,2.1S112.5,26.4,68.4,70.5S0,173.3,0,235.7v110.6 c0,62.5,50.9,113.4,113.4,113.4c7.5,0,13.5-6,13.5-13.5V246.5c0-7.5-6-13.5-13.5-13.5c-34.6,0-65.6,15.5-86.4,40v-37.3 c0-113.9,92.7-206.6,206.6-206.6s206.6,92.7,206.6,206.6c0,0.9,0.1,1.8,0.3,2.7c-0.2,0.9-0.3,1.8-0.3,2.7v37.3 c-20.8-24.5-51.8-40-86.4-40c-7.5,0-13.5,6-13.5,13.5v199.7c0,7.5,6,13.5,13.5,13.5c62.5,0,113.4-50.9,113.4-113.4V241.1 c0-0.9-0.1-1.8-0.3-2.7C467.1,237.5,467.2,236.6,467.2,235.7z M99.8,261v170.6c-41.2-6.5-72.9-42.3-72.9-85.3 C27,303.3,58.6,267.5,99.8,261z M367.4,437V266.4c41.2,6.5,72.9,42.3,72.9,85.3C440.2,394.8,408.6,430.5,367.4,437z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\
                  <div class="Info"> '+defaultLang(2071)+' </div>\
                  <div class="Text"> <span>0</span> '+defaultLang(2072)+'</div>\
            </div>\
            <div class="Dashbox Green" T="Minute">\
                  <svg viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg" aria-labelledby="timeIconTitle" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none" color="#000000"> <title id="timeIconTitle">Time</title> <circle cx="12" cy="12" r="10"/> <polyline points="12 5 12 12 16 16"/> </svg>\
                  <div class="Info"> '+defaultLang(2075)+' </div>\
                  <div class="Text"><span>0</span> '+defaultLang(2454)+'</div>\
            </div>\
         </div>\
         </div>\
         <div class="col-12 DashArea">\
            <div class="Istatistic">\
               <div class="ChartBox">\
               <div class="ChartArea">\
                  <canvas id="ReadChart"></canvas>\
               </div>\
               <div class="Avatar"><img src="/Librarys/Img/chartAvatar01.jpg"></div>\
               </div>\
               <div class="ChartBox">\
               <div class="ChartArea">\
                  <canvas id="ListenChart"></canvas>\
               </div>\
               <div class="Avatar"><img src="/Librarys/Img/chartAvatar02.jpg"></div>\
               </div>\
            </div>\
         </div>\
      </div>\
      </div>\
      </article>\
      ').appendTo(".PageContentArea")

      var WW = parseInt($(window).width())
      var WH = parseInt($(window).height())-74
      $('[CD="[[BookList]]"]').css({"height":WH+"px"})

      if(WW<980){
         $(".Header .Left").html("<a href='/student-library' class='BtnBookList'><i></i> <span> "+defaultLang(2041)+" </span></a>")
      }
      

      var systemUser = JSON.parse(localStorage.getItem("systemUser"))
      var userType   = systemUser.type



      var ReadLabels = [];
      var ReadData = {labels: ReadLabels,datasets: [{label: defaultLang(2036),data: [],borderColor: "#f00",backgroundColor: ["#ff000054"],}]};
      var ReadConfig = {type: 'bar',data: ReadData,options: {responsive: true,plugins: {legend: {position: 'top',},title: {display: true,text: defaultLang(2037)}}},};
      var ReadChart = new Chart(document.getElementById('ReadChart'),ReadConfig);
      if(WW<600){
         ReadChart.canvas.parentNode.style.width = '100%';
      }else{
         ReadChart.canvas.parentNode.style.width = '65%';
      }
      var ListenLabels = [];
      var ListenData = {labels: ListenLabels,datasets: [{label: defaultLang(2038),data: [],borderColor: "#2196f3",backgroundColor: ["#03a9f452"],}]};
      var ListenConfig = {type: 'bar',data: ListenData,options: {responsive: true,plugins: {legend: {position: 'top',},title: {display: true,text: defaultLang(2040)}}},};
      var ListenChart = new Chart(document.getElementById('ListenChart'),ListenConfig);
      if(WW<600){
         ListenChart.canvas.parentNode.style.width = '100%';
      }else{
         ListenChart.canvas.parentNode.style.width = '65%';
      }

      var systemUser = JSON.parse(localStorage.getItem("systemUser"))
      var userType   = systemUser.type

      var d = new Date(),
         nowMonth   = d.getMonth()+1,
         nowYear    = d.getFullYear();

         var StartMonth   = 0
         if(nowMonth==1){ StartMonth = 6 }
         if(nowMonth==2){ StartMonth = 7 }
         if(nowMonth==3){ StartMonth = 8 }
         if(nowMonth==4){ StartMonth = 9 }
         if(nowMonth==5){ StartMonth = 10 }
         if(nowMonth==6){ StartMonth = 11 }
         if(nowMonth==7){ StartMonth = 12 }
         if(nowMonth==8){ StartMonth = 1 }
         if(nowMonth==9){ StartMonth = 2 }
         if(nowMonth==10){ StartMonth = 3 }
         if(nowMonth==11){ StartMonth = 4 }
         if(nowMonth==12){ StartMonth = 5 }


      $.ajax({
      type: "post",
      url: appPath+"student/read",
      dataType: "json",
      data : "id="+systemUser.user.id+"",
      success: function(data) {
         var beforeMonth   = parseInt(StartMonth)
         var nextMonth     = 0

         if(data.report==""){
            for(i=beforeMonth;i<(beforeMonth+7);i++){
               var Months = i
               if(Months>12){ Months = Months - 12 }
               ReadChart.data.labels.push(monthName(Months));
               ReadChart.data.datasets.forEach((dataset) => {
                  dataset.data.push(0);
               });
               ListenChart.data.labels.push(monthName(Months));
               ListenChart.data.datasets.forEach((dataset) => {
                  dataset.data.push(0);
               });
               ReadChart.update();
               ListenChart.update();
            }
         }
         $.each( data.report, function( i, itemx ) {
            nextMonth = parseInt(itemx.month)
            if(StartMonth<=itemx.month){
               if(beforeMonth<nextMonth){
                  for(i=beforeMonth;i<nextMonth;i++){
                     ReadChart.data.labels.push(monthName(i));
                     ReadChart.data.datasets.forEach((dataset) => {
                        dataset.data.push(0);
                     });
                     ListenChart.data.labels.push(monthName(i));
                     ListenChart.data.datasets.forEach((dataset) => {
                        dataset.data.push(0);
                     });
                     ReadChart.update();
                     ListenChart.update();
                  }
               }

               ReadChart.data.labels.push(monthName(itemx.month));
               ReadChart.data.datasets.forEach((dataset) => {
                  dataset.data.push(itemx.read);
               });
               ListenChart.data.labels.push(monthName(itemx.month));
               ListenChart.data.datasets.forEach((dataset) => {
                  dataset.data.push(itemx.listen);
               });
               ReadChart.update();
               ListenChart.update();
               beforeMonth = itemx.month+1
            }
         })
      }
      });


      $.ajax({
      type: "post",
      url: appPath+"student/view",
      dataType: "json",
      data : "id="+systemUser.user.id+"&language=TR",
      success: function(data) {

         var student_Level    = data.student[0].level
         $('[T="Read"] .Text>span').html(data.statistic[0].book)
         $('[T="Listen"] .Text>span').html(data.statistic[0].listen)
         $('[T="Paper"] .Text>span').html(data.statistic[0].page)
         $('[T="Minute"] .Text>span').html(data.statistic[0].listenTime)
      }
      });
     